# ğŸ“Š Leon Analytics

> ä¸€ä¸ªåŸºäº Cloudflare Workers + D1 æ•°æ®åº“æ„å»ºçš„è½»é‡çº§ã€éšç§å‹å¥½å‹ç½‘ç«™æµé‡ç»Ÿè®¡åˆ†æç³»ç»Ÿã€‚

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange?logo=cloudflare)
![Cloudflare D1](https://img.shields.io/badge/Cloudflare-D1-yellow?logo=cloudflare)
![Status](https://img.shields.io/badge/Status-Active-success)

**Leon Analytics** æ˜¯ä¸€ä¸ªå•æ–‡ä»¶çš„å…¨æ ˆç»Ÿè®¡è§£å†³æ–¹æ¡ˆã€‚å®ƒæ— éœ€è´­ä¹°æœåŠ¡å™¨ï¼Œåˆ©ç”¨ Cloudflare çš„å…¨çƒè¾¹ç¼˜ç½‘ç»œå¤„ç†è¯·æ±‚ï¼Œæ•°æ®å­˜å‚¨åœ¨ D1 SQL æ•°æ®åº“ä¸­ã€‚ä¸ä»…éƒ¨ç½²æˆæœ¬æä½ï¼ˆç”šè‡³å…è´¹ï¼‰ï¼Œè€Œä¸”é€Ÿåº¦æå¿«ã€‚

---

## ç›®å½•

- [âœ¨ åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [ğŸ› ï¸ æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [ğŸš€ éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—)
- [âš™ï¸ é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)
- [ğŸ’» æ¥å…¥æŒ‡å—](#-æ¥å…¥æŒ‡å—)
- [ğŸ“Š API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [ğŸ“ License](#-license)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

* **ğŸŒ å…¨çƒå³æ—¶ç»Ÿè®¡**ï¼šåˆ©ç”¨ Cloudflare è¾¹ç¼˜èŠ‚ç‚¹ï¼Œæ¯«ç§’çº§è®°å½•è®¿é—®æ•°æ®ã€‚
* **ğŸ’¾ D1 æ•°æ®åº“é©±åŠ¨**ï¼šä½¿ç”¨æ ‡å‡†çš„ SQL æ•°æ®åº“ï¼ŒæŸ¥è¯¢çµæ´»ï¼Œæˆæœ¬ä½å»‰ã€‚
* **ğŸ–¥ï¸ å•æ–‡ä»¶å…¨æ ˆ**ï¼šåç«¯é€»è¾‘ä¸å‰ç«¯ Dashboard UI å…¨éƒ¨é›†æˆåœ¨ä¸€ä¸ª `index.js` æ–‡ä»¶ä¸­ã€‚
* **ğŸ¨ ç²¾ç¾ Dashboard**ï¼š
    * æ”¯æŒ **æš—é»‘/æ˜äº®æ¨¡å¼** è‡ªåŠ¨åˆ‡æ¢ã€‚
    * **å¤šè¯­è¨€æ”¯æŒ** (ä¸­æ–‡/English)ã€‚
    * **äº¤äº’å¼åœ°å›¾** (World Map Visualization)ã€‚
    * å®æ—¶æ•°æ®æµä¸è®¿é—®æ¥æºåˆ†æã€‚
* **ğŸ”’ å®‰å…¨éšç§**ï¼š
    * ç®€å•çš„å¯†ç é‰´æƒæœºåˆ¶ã€‚
    * ä¸é€šè¿‡ Cookie è¿½è¸ªä¸ªäººéšç§ï¼Œä»…è®°å½• IPã€åœ°åŒºã€è·¯å¾„ç­‰åŸºç¡€ä¿¡æ¯ã€‚
* **ğŸ“¦ å¤šç«™ç‚¹æ”¯æŒ**ï¼šåŒä¸€ä¸ªéƒ¨ç½²å®ä¾‹å¯åŒæ—¶ç»Ÿè®¡å¤šä¸ªç½‘ç«™ (`site_id`)ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

æœ¬é¡¹ç›®é‡‡ç”¨æç®€çš„ Serverless æ¶æ„ï¼Œè¿½æ±‚é«˜æ€§èƒ½ä¸ä½ç»´æŠ¤æˆæœ¬ã€‚

| ç»„ä»¶ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
| :--- | :--- | :--- |
| **Runtime** | Cloudflare Workers | åŸºäº V8 Isolate å¼•æ“ï¼Œé Node.js |
| **Database** | Cloudflare D1 | Serverless SQLite æ•°æ®åº“ |
| **Frontend** | HTML5 + Tailwind CSS | é€šè¿‡ CDN åŠ è½½ï¼Œæ— æ„å»ºæ­¥éª¤ |
| **Charts** | Chart.js | æ•°æ®å¯è§†åŒ–å›¾è¡¨ |
| **Map** | jsVectorMap | å…¨çƒè®¿å®¢åœ°ç†åˆ†å¸ƒå¯è§†åŒ– |
| **Dev Tool** | Wrangler CLI + Node.js | æœ¬åœ°å¼€å‘ä¸éƒ¨ç½²å·¥å…· |

---

## ğŸš€ éƒ¨ç½²æŒ‡å—

æœ¬é¡¹ç›®ä¸“ä¸º Cloudflare å¹³å°è®¾è®¡ã€‚

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æœ¬åœ°å®‰è£…äº† Node.jsï¼Œå¹¶ç™»å½• Cloudflareï¼š

```bash
npm install -g wrangler
wrangler login
